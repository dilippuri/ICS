Can you show us a small complete program that illustrates the problem? The code you've shown us looks ok; the problem is probably in the code you haven't shown us.
